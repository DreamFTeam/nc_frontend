<div class="toastpos">
    <ngb-toast *ngFor="let toast of toasts" [class]="toast.classname" [autohide]="true" [delay]="5000"
        (hide)="removeToast(toast)">

        <ng-template [ngIf]="isTemplate(toast)" [ngIfElse]="text">
            <ng-template [ngTemplateOutlet]="toast.textOrTpl"></ng-template>
        </ng-template>

        <ng-template #text>{{ toast.textOrTpl }}</ng-template>
    </ngb-toast>
</div>

<div class="container">
    <div *ngIf="(!isEmpty && !isLoading) ; else ((isLoading) ? loading : empty)">
        <div *ngFor="let item of quizList$ | async" class="row media border rounded-lg shadow-sm p-2 mb-4">
            <div class="media-left media-middle pic">
                <img class="media-object" [src]="item.imageContent ? item.imageContent : this.mockImageUrl" alt="Quiz icon">
            </div>
            <div class="media-body w-100">
                <a routerLink="/viewquiz/{{item.id}}">
                    <h4 class="wrap">{{item.title}}</h4>
                </a>
                <p *ngIf="!showButtons && !item.published && !item.activated" class="badge badge-danger">Rejected</p>
                <p class="fnt-size wrap"><strong>Description: </strong>>{{item.description}}</p>
                <p class="fnt-size wrap"><strong>Author: </strong><a routerLink="/profile/{{item.username}}"><u>{{item.username}}</u></a></p>
                <p class="fnt-size wrap"><strong>Date of creation: </strong>{{item.creationDate}}</p>
                <p class="fnt-size wrap"><strong>Language: </strong>{{item.language}}</p>
                <p *ngIf="showButtons">
                    <button class="btn btn-lg buttonsec float-none" type="button" (click)="reject(item.id)">Reject now</button>
                    <button class="btn btn-lg buttonpr float-right mrgn-right" (click)="validate(item.id)" type="button">Validate</button>
                </p>
            </div>
        </div>
        <div class="pagination-container">
            <ngb-pagination class="d-flex justify-content-center" size="lg" [pageSize]="pageSize" [collectionSize]="totalSize$ | async" [(page)]="page" [maxSize]="7" [rotate]="true" (pageChange)="loadPage($event)"></ngb-pagination>
        </div>
    </div>
</div>

<!-- Showing this when the list is empty -->
<ng-template #empty>
    <p *ngIf="isEmpty" class="lead emptylabel">The list is empty</p>
</ng-template>

<!-- Showing this when the data is loading -->
<ng-template #loading>
    <div style="text-align: center;">
        <fa-icon [icon]="faSpinner" [spin]="true" size="6x"></fa-icon>
    </div>
</ng-template>